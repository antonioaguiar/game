<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Meu primeiro jogo multiplayer</title>
    <style>
        #screen {
            border: 10px solid #ccc;
            image-rendering: pixelated;
            image-rendering: crisp-edges;
            image-rendering: -moz-crisp-edges;
            width: 400px;
            height: 400px;
        }
    </style>
</head>

<body>
    <canvas id="screen" width="10" height="10"></canvas>
 

    <script type="module">
        import createGame from './js/game.js';
        import createKeyboardListener from './js/keyboardListener.js';
        import renderScreen from './js/screen.js';
        
        const currentPlayer = "aguiar";

        //iniciar o game - camada lógica
        const game = createGame();
        //inciar os listeners da camada de inputs
        const keyboardListener = createKeyboardListener(document);
        //registrar observers
        keyboardListener.subscribe(game.movePlayer);

        //tela
        const screen = document.getElementById('screen');
        //mostrar camada de apresentação
        renderScreen(screen, game, requestAnimationFrame);
                 
        game.addPlayer({ playerId: currentPlayer, playerX: 1, playerY: 1 });
        //para teste
        game.addPlayer({ playerId: "player2", playerX: 5, playerY: 5 });
        game.addFruit({ fruitId: "pera", fruitX: 7, fruitY: 7 });


    </script>

</body>

</html>